#!/bin/bash

# temporary script to install stuff
mkdir -p ~/darkness.build
mkdir -p /usr/local

cd ~/darkness.build

apt-get update
apt-get -y upgrade
apt-get -y install build-essential
apt-get -y install git tmux wget curl
apt-get -y install xz-utils
apt-get -y install tcpdump

#
# golang
#
if [ ! -f /usr/local/go/bin/go ] ; then
  wget https://storage.googleapis.com/golang/go1.6.linux-amd64.tar.gz
  tar zxv -C /usr/local -f go1.6.linux-amd64.tar.gz
fi

echo 'export PATH=$PATH:/usr/local/go/bin' > /etc/profile.d/go.sh
chmod 755 /etc/profile.d/go.sh


#
# node.js
#
if [ ! -f /usr/local/node-v4.3.1-linux-x64/bin/node ] ; then
  wget https://nodejs.org/dist/v4.3.1/node-v4.3.1-linux-x64.tar.xz
  cat node-v4.3.1-linux-x64.tar.xz | unxz | tar xv -C /usr/local/ -f -
fi

echo 'export PATH=$PATH:/usr/local/node-v4.3.1-linux-x64/bin' > /etc/profile.d/node.sh
chmod 755 /etc/profile.d/node.sh


#
# haskell
#
if [ ! -f /usr/local/bin/ghc ] ; then
  wget https://haskell.org/platform/download/7.10.3/haskell-platform-7.10.3-unknown-posix-x86_64.tar.gz
  tar zxvf haskell-platform-7.10.3-unknown-posix-x86_64.tar.gz
  ./install-haskell-platform.sh
fi

apt-get install -y libgmp-dev libgmp10
